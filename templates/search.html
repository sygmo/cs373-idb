<!DOCTYPE html>

<html lang="en">
	<head>
	    <meta charset="utf-8">
	    <meta http-equiv="X-UA-Compatible" content="IE=edge">
	    <meta name="viewport" content="width=device-width, initial-scale=1">
	    <title>Star Lords</title>
		<!-- Latest compiled and minified CSS -->
		<link rel=stylesheet type=text/css href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
		<link rel=stylesheet type=text/css href="{{ url_for('static', filename='css/styles.css') }}">
		 <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
	    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	    <!--[if lt IE 9]>
	      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	    <![endif]-->
	</head>

	<!-- Optional theme -->
	<link rel=stylesheet type=text/css href="{{ url_for('static', filename='css/bootstrap-theme.min.css') }}">
	 <body>
		{% include 'navbar.html' %}
	    <div id="about-us" class="container">
			
			<div class="col-lg-12">
				<h1 class="page-header">Search Results</h1>
                
			</div>
			<hr />
			<h2>AND Results</h2>
			<hr />
			
			{% if and_family.count() > 0 %}
			<h3>Results for Family:</h3>
			<div class="table-responsive col-lg-12 col-sm-6 offset 0">          
			<table class="table table-hover">
			<thead>
			<tr>
			<th>Name</th>
			<th>Description</th>
			</tr>
			</thead>
			<tbody>
			{%for x in and_family%}
			<tr>
				<td><a href="/families/{{ x.name }}"><div class="search_result">{{ x.name }}</div></a></td>
				<td><div class="search_result">{{x.description}}</div></td>
			</tr>
			{% endfor %}
			</tbody>
			</table>
			</div>
			<hr />
			{% endif %}
			{% if and_constellation.count() > 0 %}
			<h3>Results for Constellation:</h3>
			<div class="table-responsive col-lg-12 col-sm-6 offset 0">          
			<table class="table table-hover">
			<thead>
			<tr>
			<th>Name</th>
			<th>Meaning</th>
			<th>History</th>
			</tr>
			</thead>
			<tbody>
			{%for x in and_constellation%}
			<tr>
				<td><a href="/constellations/{{ x.name }}"><div class="search_result">{{ x.name }}</div></a></td>
				<td><div class="search_result">{{x.meaning}}</div></td>
				<td><div class="search_result">{{x.history}}</div></td>
			</tr>
			{% endfor %}
			</tbody>
			</table>
			</div>
			<hr />
			{% endif %}
			{% if and_star.count() > 0 %}
			<h3>Results for Star:</h3>
			<div class="table-responsive col-lg-12 col-sm-6 offset 0">          
			<table class="table table-hover">
			<thead>
			<tr>
			<th>Name</th>
			<th>Spectral Type</th>
			<th>History</th>
			</tr>
			</thead>
			<tbody>
			{%for x in and_star%}
			<tr>
				<td><a href="/stars/{{ x.name }}"><div class="search_result">{{ x.name }}</div></a></td>
				<td><div class="search_result">{{x.spectral_type}}</div></td>
				<td><div class="search_result">{{x.history}}</div></td>
			</tr>
			{% endfor %}
			</tbody>
			</table>
			</div>
			<hr />
			{% endif %}
			{% if and_exoplanet.count() > 0 %}
			<h3>Results for Exoplanet:</h3>
			<div class="table-responsive col-lg-12 col-sm-6 offset 0">          
			<table class="table table-hover">
			<thead>
			<tr>
			<th>Name</th>
			<th>Discovered</th>
			<th>Discovery Method</th>
			<th>History</th>
			</tr>
			</thead>
			<tbody>
			{%for x in and_exoplanet%}
			<tr>
				<td><a href="/exoplanets/{{ x.name }}"><div class="search_result">{{ x.name }}</div></a></td>
				<td><div class="search_result">{{x.discovered}}</div></td>
				<td><div class="search_result">{{x.discovery_method}}</div></td>
				<td><div class="search_result">{{x.history}}</div></td>
			</tr>
			{% endfor %}
			</tbody>
			</table>
			</div>
			<hr />
			{% endif %}
			{% if and_planet.count() > 0 %}
			<h3>Results for Planet:</h3>
			<div class="table-responsive col-lg-12 col-sm-6 offset 0">          
			<table class="table table-hover">
			<thead>
			<tr>
			<th>Name</th>
			<th>History</th>
			</tr>
			</thead>
			<tbody>
			{%for x in and_planet%}
			<tr>
				<td><a href="/planets/{{ x.name }}"><div class="search_result">{{ x.name }}</div></a></td>
				<td><div class="search_result">{{x.history}}</div></td>
			</tr>
			{% endfor %}
			</tbody>
			</table>
			</div>
			<hr />
			{% endif %}
			{% if and_moon.count() > 0 %}
			<h3>Results for Moon:</h3>
			<div class="table-responsive col-lg-12 col-sm-6 offset 0">          
			<table class="table table-hover">
			<thead>
			<tr>
			<th>Name</th>
			<th>History</th>
			</tr>
			</thead>
			<tbody>
			{%for x in and_moon%}
			<tr>
				<td><a href="/moons/{{ x.name }}"><div class="search_result">{{ x.name }}</div></a></td>
				<td><div class="search_result">{{x.history}}</div></td>
			</tr>
			{% endfor %}
			</tbody>
			</table>
			</div>
			<hr />
			{% endif %}
			<hr />
			<h2>OR Results</h2>
			<hr />
			
			{% if or_family.count() > 0 %}
			<h3>Results for Family:</h3>
			<div class="table-responsive col-lg-12 col-sm-6 offset 0">          
			<table class="table table-hover">
			<thead>
			<tr>
			<th>Name</th>
			<th>Description</th>
			</tr>
			</thead>
			<tbody>
			{%for x in or_family%}
			<tr>
				<td><a href="/families/{{ x.name }}"><div class="search_result">{{ x.name }}</div></a></td>
				<td><div class="search_result">{{x.description}}</div></td>
			</tr>
			{% endfor %}
			</tbody>
			</table>
			</div>
			<hr />
			{% endif %}
			{% if or_constellation.count() > 0 %}
			<h3>Results for Constellation:</h3>
			<div class="table-responsive col-lg-12 col-sm-6 offset 0">          
			<table class="table table-hover">
			<thead>
			<tr>
			<th>Name</th>
			<th>Meaning</th>
			<th>History</th>
			</tr>
			</thead>
			<tbody>
			{%for x in or_constellation%}
			<tr>
				<td><a href="/constellations/{{ x.name }}"><div class="search_result">{{ x.name }}</div></a></td>
				<td><div class="search_result">{{x.meaning}}</div></td>
				<td><div class="search_result">{{x.history}}</div></td>
			</tr>
			{% endfor %}
			</tbody>
			</table>
			</div>
			<hr />
			{% endif %}
			{% if or_star.count() > 0 %}
			<h3>Results for Star:</h3>
			<div class="table-responsive col-lg-12 col-sm-6 offset 0">          
			<table class="table table-hover">
			<thead>
			<tr>
			<th>Name</th>
			<th>Spectral Type</th>
			<th>History</th>
			</tr>
			</thead>
			<tbody>
			{%for x in or_star%}
			<tr>
				<td><a href="/stars/{{ x.name }}"><div class="search_result">{{ x.name }}</div></a></td>
				<td><div class="search_result">{{x.spectral_type}}</div></td>
				<td><div class="search_result">{{x.history}}</div></td>
			</tr>
			{% endfor %}
			</tbody>
			</table>
			</div>
			<hr />
			{% endif %}
			{% if or_exoplanet.count() > 0 %}
			<h3>Results for Exoplanet:</h3>
			<div class="table-responsive col-lg-12 col-sm-6 offset 0">          
			<table class="table table-hover">
			<thead>
			<tr>
			<th>Name</th>
			<th>Discovered</th>
			<th>Discovery Method</th>
			<th>History</th>
			</tr>
			</thead>
			<tbody>
			{%for x in or_exoplanet%}
			<tr>
				<td><a href="/exoplanets/{{ x.name }}"><div class="search_result">{{ x.name }}</div></a></td>
				<td><div class="search_result">{{x.discovered}}</div></td>
				<td><div class="search_result">{{x.discovery_method}}</div></td>
				<td><div class="search_result">{{x.history}}</div></td>
			</tr>
			{% endfor %}
			</tbody>
			</table>
			</div>
			<hr />
			{% endif %}
			{% if or_planet.count() > 0 %}
			<h3>Results for Planet:</h3>
			<div class="table-responsive col-lg-12 col-sm-6 offset 0">          
			<table class="table table-hover">
			<thead>
			<tr>
			<th>Name</th>
			<th>History</th>
			</tr>
			</thead>
			<tbody>
			{%for x in or_planet%}
			<tr>
				<td><a href="/planets/{{ x.name }}"><div class="search_result">{{ x.name }}</div></a></td>
				<td><div class="search_result">{{x.history}}</div></td>
			</tr>
			{% endfor %}
			</tbody>
			</table>
			</div>
			<hr />
			{% endif %}
			{% if or_moon.count() > 0 %}
			<h3>Results for Moon:</h3>
			<div class="table-responsive col-lg-12 col-sm-6 offset 0">          
			<table class="table table-hover">
			<thead>
			<tr>
			<th>Name</th>
			<th>History</th>
			</tr>
			</thead>
			<tbody>
			{%for x in or_moon%}
			<tr>
				<td><a href="/moons/{{ x.name }}"><div class="search_result">{{ x.name }}</div></a></td>
				<td><div class="search_result">{{x.history}}</div></td>
			</tr>
			{% endfor %}
			</tbody>
			</table>
			</div>
			<hr />
			{% endif %}
			<hr />
		</div>
	    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
		
	    <script src="{{ url_for('static', filename='js/jquery-2.1.3.min.js') }}"></script>
		<!-- Latest compiled and minified JavaScript -->
		<script src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>
		<script>
			$(document).ready(function()
			{
				var text = '{{searcher}}';
				text = text.split(" ");
				for(var t = 0; t < text.length; t++)
				{
					text[t] = text[t].toLowerCase();
					var arr = document.getElementsByClassName("search_result");
					var i;
					for(i = 0; i < arr.length; i++)
					{
						var innerHTML = arr[i].innerHTML;
						
						var innerHTMLLower = innerHTML.toLowerCase();
						innerHTMLLower = innerHTMLLower.replace("<span class=\"highlight\">", "                        ");
						innerHTMLLower = innerHTMLLower.replace("</span>", "       ");
						var index = innerHTMLLower.indexOf(text[t]);
						if ( index >= 0 )
						{ 
							innerHTML = innerHTML.substring(0,index) + "<span class='highlight'>" + innerHTML.substring(index,index+text[t].length) + "</span>" + innerHTML.substring(index + text[t].length);
							arr[i].innerHTML = innerHTML 
						}
					}
				}
			});
		</script>
	</body>
</html>